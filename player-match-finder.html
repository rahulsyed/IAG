<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IAG Tournament - My Matches</title>
    <link href="https://fonts.googleapis.com/css2?family=Rajdhani:wght@400;600;700&family=Exo+2:wght@300;400;600;800&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg: #050a14;
            --surface: #0d1826;
            --card: #111e30;
            --border: rgba(168,85,247,0.18);
            --accent: #a855f7;
            --accent2: #f7c948;
            --green: #39ff84;
            --text: #e8f4f8;
            --muted: #5e7a8f;
            --orange: #ff7c2a;
        }
        
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        
        body {
            background: var(--bg);
            color: var(--text);
            font-family: 'Exo 2', sans-serif;
            min-height: 100vh;
            overflow-x: hidden;
        }
        
        body::before {
            content: '';
            position: fixed;
            inset: 0;
            background-image: linear-gradient(rgba(168,85,247,0.03) 1px, transparent 1px),
                              linear-gradient(90deg, rgba(168,85,247,0.03) 1px, transparent 1px);
            background-size: 40px 40px;
            pointer-events: none;
            z-index: 0;
        }
        
        .wrapper {
            position: relative;
            z-index: 1;
            max-width: 1100px;
            margin: 0 auto;
            padding: 20px 16px 60px;
        }
        
        header {
            text-align: center;
            padding: 40px 0 30px;
            border-bottom: 1px solid var(--border);
            margin-bottom: 36px;
        }
        
        header .badge {
            display: inline-block;
            background: linear-gradient(135deg, rgba(168,85,247,0.15), rgba(168,85,247,0.05));
            border: 1px solid var(--accent);
            color: var(--accent);
            font-family: 'Rajdhani', sans-serif;
            font-size: 12px;
            letter-spacing: 3px;
            text-transform: uppercase;
            padding: 5px 16px;
            border-radius: 2px;
            margin-bottom: 14px;
        }
        
        header h1 {
            font-family: 'Rajdhani', sans-serif;
            font-size: clamp(28px, 5vw, 48px);
            font-weight: 700;
            letter-spacing: 2px;
            line-height: 1.1;
            background: linear-gradient(135deg, #fff 0%, var(--accent) 60%, var(--accent2) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        header .meta {
            margin-top: 10px;
            color: var(--muted);
            font-size: 14px;
            letter-spacing: 1px;
        }
        
        .back-btn {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            color: var(--accent);
            text-decoration: none;
            font-family: 'Rajdhani', sans-serif;
            font-size: 14px;
            font-weight: 600;
            letter-spacing: 1px;
            text-transform: uppercase;
            margin-bottom: 16px;
            opacity: 0.8;
            transition: opacity 0.2s;
        }
        
        .back-btn:hover {
            opacity: 1;
        }
        
        .search-container {
            background: var(--card);
            border: 1px solid var(--border);
            border-radius: 12px;
            padding: 24px;
            margin-bottom: 28px;
        }
        
        .search-label {
            font-family: 'Rajdhani', sans-serif;
            font-size: 16px;
            font-weight: 600;
            letter-spacing: 1px;
            text-transform: uppercase;
            color: var(--accent);
            margin-bottom: 12px;
            display: block;
        }
        
        .search-box {
            position: relative;
        }
        
        .search-input {
            width: 100%;
            background: rgba(0,0,0,0.3);
            border: 2px solid var(--border);
            color: var(--text);
            font-family: 'Exo 2', sans-serif;
            font-size: 18px;
            padding: 16px 50px 16px 20px;
            border-radius: 8px;
            transition: all 0.3s;
        }
        
        .search-input:focus {
            outline: none;
            border-color: var(--accent);
            box-shadow: 0 0 0 3px rgba(168,85,247,0.1);
        }
        
        .search-icon {
            position: absolute;
            right: 18px;
            top: 50%;
            transform: translateY(-50%);
            font-size: 24px;
            color: var(--accent);
        }
        
        .suggestions {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background: var(--card);
            border: 1px solid var(--border);
            border-top: none;
            border-radius: 0 0 8px 8px;
            max-height: 300px;
            overflow-y: auto;
            z-index: 1000;
            display: none;
        }
        
        .suggestions.active {
            display: block;
        }
        
        .suggestion-item {
            padding: 12px 20px;
            cursor: pointer;
            border-bottom: 1px solid rgba(255,255,255,0.04);
            transition: background 0.2s;
        }
        
        .suggestion-item:hover,
        .suggestion-item.highlighted {
            background: rgba(168,85,247,0.1);
        }
        
        .suggestion-item:last-child {
            border-bottom: none;
        }
        
        .suggestion-highlight {
            color: var(--accent2);
            font-weight: 600;
        }
        
        .results-container {
            display: none;
        }
        
        .results-container.active {
            display: block;
        }
        
        .player-name-display {
            font-family: 'Rajdhani', sans-serif;
            font-size: 28px;
            font-weight: 700;
            letter-spacing: 1px;
            color: var(--accent2);
            margin-bottom: 24px;
            text-align: center;
            padding: 20px;
            background: rgba(168,85,247,0.05);
            border-radius: 8px;
            border: 1px solid var(--border);
        }
        
        .category-section {
            background: var(--card);
            border: 1px solid var(--border);
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
        }
        
        .category-header {
            font-family: 'Rajdhani', sans-serif;
            font-size: 22px;
            font-weight: 700;
            letter-spacing: 2px;
            text-transform: uppercase;
            color: var(--accent);
            margin-bottom: 16px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .category-meta {
            font-size: 13px;
            color: var(--muted);
            margin-bottom: 16px;
            display: flex;
            flex-wrap: wrap;
            gap: 12px;
        }
        
        .category-meta span {
            display: flex;
            align-items: center;
            gap: 4px;
        }
        
        .match-card {
            background: rgba(0,0,0,0.2);
            border: 1px solid rgba(255,255,255,0.08);
            border-left: 4px solid var(--accent);
            border-radius: 8px;
            padding: 16px;
            margin-bottom: 12px;
            transition: all 0.2s;
        }
        
        .match-card:hover {
            background: rgba(168,85,247,0.05);
            transform: translateX(4px);
        }
        
        .match-time {
            font-family: 'Rajdhani', sans-serif;
            font-weight: 700;
            font-size: 18px;
            color: var(--accent2);
            margin-bottom: 8px;
        }
        
        .match-details {
            display: grid;
            grid-template-columns: auto 1fr;
            gap: 12px;
            align-items: center;
        }
        
        .court-badge {
            background: rgba(168,85,247,0.15);
            border: 1px solid rgba(168,85,247,0.3);
            color: var(--accent);
            font-family: 'Rajdhani', sans-serif;
            font-size: 12px;
            font-weight: 700;
            letter-spacing: 1px;
            padding: 4px 12px;
            border-radius: 4px;
            white-space: nowrap;
        }
        
        .match-vs {
            font-size: 15px;
            line-height: 1.5;
        }
        
        .player-highlight {
            color: var(--green);
            font-weight: 700;
        }
        
        .vs-separator {
            color: var(--muted);
            font-size: 13px;
            margin: 0 8px;
        }
        
        .group-badge {
            display: inline-block;
            background: rgba(168,85,247,0.12);
            border: 1px solid rgba(168,85,247,0.25);
            color: var(--accent);
            font-family: 'Rajdhani', sans-serif;
            font-size: 11px;
            font-weight: 700;
            letter-spacing: 1px;
            padding: 3px 10px;
            border-radius: 3px;
            margin-top: 4px;
        }
        
        .no-results {
            text-align: center;
            padding: 60px 20px;
            color: var(--muted);
        }
        
        .no-results-icon {
            font-size: 64px;
            margin-bottom: 16px;
            opacity: 0.3;
        }
        
        .quick-tips {
            background: rgba(247,201,72,0.08);
            border-left: 4px solid var(--accent2);
            border-radius: 8px;
            padding: 16px 20px;
            margin-top: 24px;
            font-size: 14px;
            line-height: 1.6;
        }
        
        .quick-tips h4 {
            font-family: 'Rajdhani', sans-serif;
            color: var(--accent2);
            margin-bottom: 8px;
            font-size: 16px;
            letter-spacing: 1px;
        }
        
        @media (max-width: 768px) {
            .match-details {
                grid-template-columns: 1fr;
                gap: 8px;
            }
            
            .search-input {
                font-size: 16px;
                padding: 14px 45px 14px 16px;
            }
            
            .category-meta {
                font-size: 12px;
            }
        }
    </style>
</head>
<body>
<div class="wrapper">
    <a href="index.html" class="back-btn">‚Üê Back to Tournament Hub</a>
    
    <header>
        <div class="badge">üèì IAG PICKLEBALL 2026</div>
        <h1>FIND MY MATCHES</h1>
        <div class="meta">Search your name to see all your scheduled matches</div>
    </header>
    
    <div class="search-container">
        <label class="search-label">üîç Enter Your Name</label>
        <div class="search-box">
            <input 
                type="text" 
                class="search-input" 
                id="playerSearch" 
                placeholder="Start typing your name..."
                autocomplete="off"
            />
            <div class="search-icon">‚ö°</div>
            <div class="suggestions" id="suggestions"></div>
        </div>
        <div class="quick-tips">
            <h4>üí° Quick Tip</h4>
            Just start typing your first or last name. The search will automatically show matching players across all tournament categories!
        </div>
    </div>
    
    <div class="results-container" id="resultsContainer">
        <div class="player-name-display" id="playerNameDisplay"></div>
        <div id="matchesDisplay"></div>
    </div>
    
    <div class="no-results" id="noResults" style="display:none;">
        <div class="no-results-icon">üéæ</div>
        <h3 style="color:var(--text);margin-bottom:8px;">No matches found</h3>
        <p>Try searching with a different name or check the spelling</p>
    </div>
</div>

<script>
// Tournament data consolidated from all categories
const TOURNAMENT_DATA = {
    'Open 3.0': {
        date: 'Feb 27, 2026',
        startTime: '8:00 PM',
        endTime: '9:30 PM',
        courts: 2,
        color: '#138808',
        matches: [
            {time:'8:00 PM',court:1,team1:['Nirmala','Kavya'],team2:['Gayathri','Maheshwari']},
            {time:'8:00 PM',court:2,team1:['Suganandini','Ridhyanyaa'],team2:['Melfi','Deeksha']},
            {time:'8:15 PM',court:1,team1:['Suganandini','Ridhyanyaa'],team2:['Nirmala','Kavya']},
            {time:'8:15 PM',court:2,team1:['Divya','Ramya'],team2:['Gayathri','Maheshwari']},
            {time:'8:30 PM',court:1,team1:['Nirmala','Kavya'],team2:['Melfi','Deeksha']},
            {time:'8:30 PM',court:2,team1:['Sofi','Priya'],team2:['Gayathri','Maheshwari']},
            {time:'8:45 PM',court:1,team1:['Sofi','Priya'],team2:['Nirmala','Kavya']},
            {time:'8:45 PM',court:2,team1:['Divya','Ramya'],team2:['Suganandini','Ridhyanyaa']},
            {time:'9:00 PM',court:1,team1:['Melfi','Deeksha'],team2:['Gayathri','Maheshwari']},
            {time:'9:00 PM',court:2,team1:['Sofi','Priya'],team2:['Divya','Ramya']},
            {time:'9:15 PM',court:1,team1:['Sofi','Priya'],team2:['Suganandini','Ridhyanyaa']},
            {time:'9:15 PM',court:2,team1:['Divya','Ramya'],team2:['Melfi','Deeksha']}
        ]
    },
    'Open 3.5': {
        date: 'Feb 28, 2026',
        startTime: '7:30 AM',
        endTime: '~10:00 AM',
        courts: 6,
        color: '#ff7c2a',
        matches: [
            // Group 5 ‚Äî 7:30 AM‚Äì8:45 AM (Court 1 only)
            {time:'7:30 AM',court:1,group:'Group 5',team1:['Harshil','Parth'],team2:['Aaryan','Krish']},
            {time:'7:45 AM',court:1,group:'Group 5',team1:['Tarth','Nandi'],team2:['Sekar','Singha']},
            {time:'8:00 AM',court:1,group:'Group 5',team1:['Harshil','Parth'],team2:['Tarth','Nandi']},
            {time:'8:15 AM',court:1,group:'Group 5',team1:['Aaryan','Krish'],team2:['Sekar','Singha']},
            {time:'8:30 AM',court:1,group:'Group 5',team1:['Harshil','Parth'],team2:['Sekar','Singha']},
            {time:'8:45 AM',court:1,group:'Group 5',team1:['Aaryan','Krish'],team2:['Tarth','Nandi']},
            // Round 1 ‚Äî 9:00 AM
            {time:'9:00 AM',court:1,group:'Group 1',team1:['Durbha Murthy','Rajanikanth'],team2:['Vivek','Rajiv']},
            {time:'9:00 AM',court:2,group:'Group 1',team1:['Vanith','Prabakar'],team2:['Lisa','April']},
            {time:'9:00 AM',court:3,group:'Group 2',team1:['Welborn','Francis'],team2:['Varun','Jeremy']},
            {time:'9:00 AM',court:4,group:'Group 3',team1:['Uma','Shankar'],team2:['Moksh','Suraj']},
            {time:'9:00 AM',court:5,group:'Group 3',team1:['Adarsh','Sunil'],team2:['Venkat','Immanuel']},
            {time:'9:00 AM',court:6,group:'Group 4',team1:['Xavier','David'],team2:['Anish','Mandy']},
            // Round 2 ‚Äî 9:15 AM
            {time:'9:15 AM',court:1,group:'Group 1',team1:['Durbha Murthy','Rajanikanth'],team2:['Vanith','Prabakar']},
            {time:'9:15 AM',court:2,group:'Group 1',team1:['Vivek','Rajiv'],team2:['Lisa','April']},
            {time:'9:15 AM',court:3,group:'Group 2',team1:['Shari','Roz'],team2:['Thiru','Vamshi']},
            {time:'9:15 AM',court:4,group:'Group 3',team1:['Uma','Shankar'],team2:['Adarsh','Sunil']},
            {time:'9:15 AM',court:5,group:'Group 3',team1:['Moksh','Suraj'],team2:['Venkat','Immanuel']},
            {time:'9:15 AM',court:6,group:'Group 4',team1:['Kenny','Daniel'],team2:['Sreeni NK','Chokalingam']},
            // Round 3 ‚Äî 9:30 AM
            {time:'9:30 AM',court:1,group:'Group 1',team1:['Durbha Murthy','Rajanikanth'],team2:['Lisa','April']},
            {time:'9:30 AM',court:2,group:'Group 2',team1:['Welborn','Francis'],team2:['Shari','Roz']},
            {time:'9:30 AM',court:3,group:'Group 2',team1:['Varun','Jeremy'],team2:['Thiru','Vamshi']},
            {time:'9:30 AM',court:4,group:'Group 3',team1:['Uma','Shankar'],team2:['Venkat','Immanuel']},
            {time:'9:30 AM',court:5,group:'Group 4',team1:['Xavier','David'],team2:['Kenny','Daniel']},
            {time:'9:30 AM',court:6,group:'Group 4',team1:['Anish','Mandy'],team2:['Sreeni NK','Chokalingam']},
            // Round 4 ‚Äî 9:45 AM
            {time:'9:45 AM',court:1,group:'Group 1',team1:['Vivek','Rajiv'],team2:['Vanith','Prabakar']},
            {time:'9:45 AM',court:2,group:'Group 2',team1:['Welborn','Francis'],team2:['Thiru','Vamshi']},
            {time:'9:45 AM',court:3,group:'Group 2',team1:['Varun','Jeremy'],team2:['Shari','Roz']},
            {time:'9:45 AM',court:4,group:'Group 3',team1:['Moksh','Suraj'],team2:['Adarsh','Sunil']},
            {time:'9:45 AM',court:5,group:'Group 4',team1:['Xavier','David'],team2:['Sreeni NK','Chokalingam']},
            {time:'9:45 AM',court:6,group:'Group 4',team1:['Anish','Mandy'],team2:['Kenny','Daniel']}
        ]
    },
    'Open 4.0+': {
        date: 'Feb 28, 2026',
        startTime: '10:00 AM',
        endTime: '11:00 AM',
        courts: 6,
        color: '#a855f7',
        matches: [
            {time:'10:00 AM',court:1,group:'Group 1',team1:['Tony','Cole'],team2:['PJ','Syed']},
            {time:'10:00 AM',court:2,group:'Group 1',team1:['Suresh','Rajesh'],team2:['LD','Nathan']},
            {time:'10:00 AM',court:3,group:'Group 2',team1:['Andrew Jacob','Mark'],team2:['Carlos','Carlos']},
            {time:'10:00 AM',court:4,group:'Group 3',team1:['Maulik','Addy'],team2:['Dwayne','Luk']},
            {time:'10:00 AM',court:5,group:'Group 3',team1:['Vinod','Senthil'],team2:['Arun','Elango']},
            {time:'10:00 AM',court:6,group:'Group 4',team1:['Abhishek','Philip'],team2:['Raj','David']},
            {time:'10:15 AM',court:1,group:'Group 1',team1:['Tony','Cole'],team2:['Suresh','Rajesh']},
            {time:'10:15 AM',court:2,group:'Group 1',team1:['PJ','Syed'],team2:['LD','Nathan']},
            {time:'10:15 AM',court:3,group:'Group 2',team1:['Andrew Stafford','Stephen'],team2:['Mason','Shane']},
            {time:'10:15 AM',court:4,group:'Group 3',team1:['Maulik','Addy'],team2:['Vinod','Senthil']},
            {time:'10:15 AM',court:5,group:'Group 3',team1:['Dwayne','Luk'],team2:['Arun','Elango']},
            {time:'10:15 AM',court:6,group:'Group 4',team1:['Dylan','Kason'],team2:['Jared','Doug']},
            {time:'10:30 AM',court:1,group:'Group 1',team1:['Tony','Cole'],team2:['LD','Nathan']},
            {time:'10:30 AM',court:2,group:'Group 2',team1:['Andrew Jacob','Mark'],team2:['Andrew Stafford','Stephen']},
            {time:'10:30 AM',court:3,group:'Group 2',team1:['Carlos','Carlos'],team2:['Mason','Shane']},
            {time:'10:30 AM',court:4,group:'Group 3',team1:['Maulik','Addy'],team2:['Arun','Elango']},
            {time:'10:30 AM',court:5,group:'Group 4',team1:['Abhishek','Philip'],team2:['Dylan','Kason']},
            {time:'10:30 AM',court:6,group:'Group 4',team1:['Raj','David'],team2:['Jared','Doug']},
            {time:'10:45 AM',court:1,group:'Group 1',team1:['PJ','Syed'],team2:['Suresh','Rajesh']},
            {time:'10:45 AM',court:2,group:'Group 2',team1:['Andrew Jacob','Mark'],team2:['Mason','Shane']},
            {time:'10:45 AM',court:3,group:'Group 2',team1:['Carlos','Carlos'],team2:['Andrew Stafford','Stephen']},
            {time:'10:45 AM',court:4,group:'Group 3',team1:['Dwayne','Luk'],team2:['Vinod','Senthil']},
            {time:'10:45 AM',court:5,group:'Group 4',team1:['Abhishek','Philip'],team2:['Jared','Doug']},
            {time:'10:45 AM',court:6,group:'Group 4',team1:['Raj','David'],team2:['Dylan','Kason']}
        ]
    },
    'Mixed Doubles': {
        date: 'Feb 28, 2026',
        startTime: '1:00 PM',
        endTime: '~3:30 PM',
        courts: 2,
        color: '#f7c948',
        matches: [
            // R1
            {time:'1:00 PM',court:3,group:'R1',team1:['Cam','Rae'],team2:['Rohit','Shivani']},
            {time:'1:00 PM',court:4,group:'R1',team1:['Shari','Dwayne'],team2:['Vinod','Nandhini']},
            {time:'1:15 PM',court:3,group:'R1',team1:['Keath','Caitlyn'],team2:['Nathan','Esther']},
            {time:'1:15 PM',court:4,group:'R1',team1:['Aiden','Grace'],team2:['Raj','Nalini']},
            {time:'1:30 PM',court:3,group:'R1',team1:['Guru','Lynn'],team2:['Shawn','Tom']},
            {time:'1:30 PM',court:4,group:'R1',team1:['Welborn','Ericka'],team2:['PJ','Marabeth']},
            {time:'1:45 PM',court:3,group:'R1',team1:['Andrew','Lydia'],team2:['Daniel','Joy']},
            // R2
            {time:'1:45 PM',court:4,group:'R2',team1:['Shawn','Tom'],team2:['Keath','Caitlyn']},
            {time:'2:00 PM',court:3,group:'R2',team1:['Andrew','Lydia'],team2:['Cam','Rae']},
            {time:'2:00 PM',court:4,group:'R2',team1:['Shari','Dwayne'],team2:['Welborn','Ericka']},
            {time:'2:15 PM',court:3,group:'R2',team1:['PJ','Marabeth'],team2:['Nathan','Esther']},
            {time:'2:15 PM',court:4,group:'R2',team1:['Raj','Nalini'],team2:['Guru','Lynn']},
            {time:'2:30 PM',court:3,group:'R2',team1:['Vinod','Nandhini'],team2:['Aiden','Grace']},
            {time:'2:30 PM',court:4,group:'R2',team1:['Rohit','Shivani'],team2:['Daniel','Joy']},
            // R3
            {time:'2:45 PM',court:3,group:'R3',team1:['Cam','Rae'],team2:['Shari','Dwayne']},
            {time:'2:45 PM',court:4,group:'R3',team1:['Nathan','Esther'],team2:['Rohit','Shivani']},
            {time:'3:00 PM',court:3,group:'R3',team1:['Guru','Lynn'],team2:['Vinod','Nandhini']},
            {time:'3:00 PM',court:4,group:'R3',team1:['Welborn','Ericka'],team2:['Andrew','Lydia']},
            {time:'3:15 PM',court:3,group:'R3',team1:['Keath','Caitlyn'],team2:['PJ','Marabeth']},
            {time:'3:15 PM',court:4,group:'R3',team1:['Aiden','Grace'],team2:['Shawn','Tom']},
            {time:'3:30 PM',court:3,group:'R3',team1:['Raj','Nalini'],team2:['Daniel','Joy']}
        ]
    },
    'Social Division': {
        date: 'Feb 28, 2026',
        startTime: '1:45 PM',
        endTime: '~3:30 PM',
        courts: 2,
        color: '#39ff84',
        matches: [
            // Group 1 (Courts C5 & C6)
            {time:'1:45 PM',court:5,group:'Group 1',team1:['Karthik','Shailandra'],team2:['Syed','Sofi']},
            {time:'1:45 PM',court:6,group:'Group 1',team1:['Narashima','Sneha'],team2:['Kenny','Amanda']},
            {time:'1:45 PM',court:5,group:'Group 2',team1:['Mandy','Honey'],team2:['Suresh','Nirmala']},
            {time:'1:45 PM',court:6,group:'Group 2',team1:['Elango','Ramya'],team2:['Arun','Divya']},
            {time:'2:00 PM',court:5,group:'Group 1',team1:['Karthik','Shailandra'],team2:['Narashima','Sneha']},
            {time:'2:00 PM',court:6,group:'Group 1',team1:['Syed','Sofi'],team2:['Kenny','Amanda']},
            {time:'2:00 PM',court:5,group:'Group 2',team1:['Mandy','Honey'],team2:['Elango','Ramya']},
            {time:'2:00 PM',court:6,group:'Group 2',team1:['Suresh','Nirmala'],team2:['Arun','Divya']},
            {time:'2:15 PM',court:5,group:'Group 1',team1:['Karthik','Shailandra'],team2:['Kenny','Amanda']},
            {time:'2:15 PM',court:6,group:'Group 1',team1:['Syed','Sofi'],team2:['Narashima','Sneha']},
            {time:'2:15 PM',court:5,group:'Group 2',team1:['Mandy','Honey'],team2:['Arun','Divya']},
            {time:'2:15 PM',court:6,group:'Group 2',team1:['Suresh','Nirmala'],team2:['Elango','Ramya']},
            {time:'2:30 PM',court:5,group:'Group 1',team1:['Karthik','Shailandra'],team2:['Andrew','Kacie']},
            {time:'2:30 PM',court:6,group:'Group 2',team1:['Mandy','Honey'],team2:['Abhishek','Aaryesh']},
            {time:'2:45 PM',court:5,group:'Group 1',team1:['Syed','Sofi'],team2:['Andrew','Kacie']},
            {time:'2:45 PM',court:6,group:'Group 2',team1:['Suresh','Nirmala'],team2:['Abhishek','Aaryesh']},
            {time:'3:00 PM',court:5,group:'Group 1',team1:['Narashima','Sneha'],team2:['Andrew','Kacie']},
            {time:'3:00 PM',court:6,group:'Group 2',team1:['Elango','Ramya'],team2:['Abhishek','Aaryesh']},
            {time:'3:15 PM',court:5,group:'Group 1',team1:['Kenny','Amanda'],team2:['Andrew','Kacie']},
            {time:'3:15 PM',court:6,group:'Group 2',team1:['Arun','Divya'],team2:['Abhishek','Aaryesh']}
        ]
    }
};

// Build searchable player index
const playerIndex = [];
Object.entries(TOURNAMENT_DATA).forEach(([category, data]) => {
    const players = new Set();
    data.matches.forEach(match => {
        match.team1.forEach(p => players.add(p));
        match.team2.forEach(p => players.add(p));
    });
    players.forEach(player => {
        if (!playerIndex.some(p => p.name === player)) {
            playerIndex.push({name: player, categories: [category]});
        } else {
            const existing = playerIndex.find(p => p.name === player);
            if (!existing.categories.includes(category)) {
                existing.categories.push(category);
            }
        }
    });
});

const searchInput = document.getElementById('playerSearch');
const suggestionsDiv = document.getElementById('suggestions');
const resultsContainer = document.getElementById('resultsContainer');
const playerNameDisplay = document.getElementById('playerNameDisplay');
const matchesDisplay = document.getElementById('matchesDisplay');
const noResults = document.getElementById('noResults');

let highlightedIndex = -1;

searchInput.addEventListener('input', function() {
    const query = this.value.trim().toLowerCase();
    highlightedIndex = -1;
    
    if (query.length === 0) {
        suggestionsDiv.classList.remove('active');
        return;
    }
    
    const matches = playerIndex.filter(p => 
        p.name.toLowerCase().includes(query)
    ).sort((a, b) => {
        const aStarts = a.name.toLowerCase().startsWith(query);
        const bStarts = b.name.toLowerCase().startsWith(query);
        if (aStarts && !bStarts) return -1;
        if (!aStarts && bStarts) return 1;
        return a.name.localeCompare(b.name);
    }).slice(0, 8);
    
    if (matches.length > 0) {
        suggestionsDiv.innerHTML = matches.map((player, idx) => {
            const name = player.name;
            const lowerName = name.toLowerCase();
            const startIdx = lowerName.indexOf(query);
            
            let highlighted = name;
            if (startIdx !== -1) {
                highlighted = name.substring(0, startIdx) +
                    '<span class="suggestion-highlight">' +
                    name.substring(startIdx, startIdx + query.length) +
                    '</span>' +
                    name.substring(startIdx + query.length);
            }
            
            const categories = player.categories.join(', ');
            return `
                <div class="suggestion-item" data-player="${name}" data-index="${idx}">
                    <div style="font-weight:600;">${highlighted}</div>
                    <div style="font-size:12px;color:var(--muted);margin-top:2px;">
                        üìã ${categories}
                    </div>
                </div>
            `;
        }).join('');
        suggestionsDiv.classList.add('active');
        
        // Add click handlers
        document.querySelectorAll('.suggestion-item').forEach(item => {
            item.addEventListener('click', function() {
                selectPlayer(this.dataset.player);
            });
        });
    } else {
        suggestionsDiv.classList.remove('active');
    }
});

searchInput.addEventListener('keydown', function(e) {
    const items = suggestionsDiv.querySelectorAll('.suggestion-item');
    
    if (e.key === 'ArrowDown') {
        e.preventDefault();
        highlightedIndex = Math.min(highlightedIndex + 1, items.length - 1);
        updateHighlight(items);
    } else if (e.key === 'ArrowUp') {
        e.preventDefault();
        highlightedIndex = Math.max(highlightedIndex - 1, 0);
        updateHighlight(items);
    } else if (e.key === 'Enter') {
        e.preventDefault();
        if (highlightedIndex >= 0 && items[highlightedIndex]) {
            selectPlayer(items[highlightedIndex].dataset.player);
        }
    } else if (e.key === 'Escape') {
        suggestionsDiv.classList.remove('active');
    }
});

function updateHighlight(items) {
    items.forEach((item, idx) => {
        if (idx === highlightedIndex) {
            item.classList.add('highlighted');
            item.scrollIntoView({block: 'nearest'});
        } else {
            item.classList.remove('highlighted');
        }
    });
}

function selectPlayer(playerName) {
    searchInput.value = playerName;
    suggestionsDiv.classList.remove('active');
    showPlayerMatches(playerName);
}

function showPlayerMatches(playerName) {
    playerNameDisplay.textContent = `üéæ ${playerName}'s Matches`;
    
    let hasMatches = false;
    let html = '';
    
    Object.entries(TOURNAMENT_DATA).forEach(([category, data]) => {
        const categoryMatches = data.matches.filter(match => 
            match.team1.includes(playerName) || match.team2.includes(playerName)
        );
        
        if (categoryMatches.length > 0) {
            hasMatches = true;
            const totalMatches = categoryMatches.length;
            
            html += `
                <div class="category-section" style="border-left:4px solid ${data.color}">
                    <div class="category-header" style="color:${data.color}">
                        üèì ${category}
                    </div>
                    <div class="category-meta">
                        <span>üìÖ ${data.date}</span>
                        <span>üïó ${data.startTime} - ${data.endTime}</span>
                        <span>üèü ${data.courts} Courts</span>
                        <span>üéØ ${totalMatches} Match${totalMatches > 1 ? 'es' : ''}</span>
                    </div>
            `;
            
            categoryMatches.forEach(match => {
                const isTeam1 = match.team1.includes(playerName);
                const myTeam = isTeam1 ? match.team1 : match.team2;
                const opponentTeam = isTeam1 ? match.team2 : match.team1;
                
                const myTeamHtml = myTeam.map(p => 
                    p === playerName ? 
                    `<span class="player-highlight">${p}</span>` : 
                    p
                ).join(' & ');
                
                const opponentTeamHtml = opponentTeam.join(' & ');
                
                html += `
                    <div class="match-card">
                        <div class="match-time">‚è∞ ${match.time}</div>
                        <div class="match-details">
                            <div class="court-badge">Court ${match.court}</div>
                            <div class="match-vs">
                                ${myTeamHtml}
                                <span class="vs-separator">vs</span>
                                ${opponentTeamHtml}
                                ${match.group ? `<br><span class="group-badge">${match.group}</span>` : ''}
                            </div>
                        </div>
                    </div>
                `;
            });
            
            html += '</div>';
        }
    });
    
    if (hasMatches) {
        matchesDisplay.innerHTML = html;
        resultsContainer.classList.add('active');
        noResults.style.display = 'none';
    } else {
        resultsContainer.classList.remove('active');
        noResults.style.display = 'block';
    }
}

// Close suggestions when clicking outside
document.addEventListener('click', function(e) {
    if (!searchInput.contains(e.target) && !suggestionsDiv.contains(e.target)) {
        suggestionsDiv.classList.remove('active');
    }
});
</script>
</body>
</html>
